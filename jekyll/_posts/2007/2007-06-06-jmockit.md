---
title: JMockit

category: blogger
# Pulled from Blogger. Last updated there on: Wed Jun 06 14:27:00 IST 2007
---
The business class we want to test<br /><br /><code class="prettyprint"><br />package emeraldjava.jmockit;<br /><br />/**<br />* Service.<br />*/<br />public class Service {<br /><br /> public boolean doBusinessWork()<br />   throws Exception<br /> {<br />   Workflow workflow = new Workflow();<br />   if(workflow.startProcess()==1)<br />     return true;<br />   else<br />     return false;<br /> }<br /><br />}<br /></code><br /><br />The object used by the service class<br /><br /><code class="prettyprint"><br />package emeraldjava.jmockit;<br /><br />public class Workflow {<br /> <br />  public long startProcess()<br />    throws Exception<br />  {<br />    return 1;<br />  }<br /><br />}<br /></code><br /><br />The test class<br /><br /><code class="prettyprint"><br />package curam.uic.tools.jmockit;<br /><br />import junit.framework.TestCase;<br />import mockit.Mockit;<br /><br />public class ServiceTest extends TestCase {<br /><br />  public ServiceTest(String name)<br />  {<br />    super(name);<br />   <br />  }<br /> <br />  public void test()<br />    throws Exception<br />  {<br />    Service service = new Service();<br />    assertEquals("",true,service.doBusinessWork());<br />  }<br /> <br />  public void test2()<br />    throws Exception<br />  {<br />    Service service = new Service();<br />   <br />    Mockit.redefineMethods(Workflow.class, new Object() {<br />      public long startProcess()<br />      {<br />        return 2;<br />      }<br />   });<br />    assertEquals("",false,service.doBusinessWork());<br />  }<br /> <br />  public static class WorkflowMock<br />  {<br />    public long startProcess()<br />      throws Exception<br />    {<br />      throw new Exception();<br />    }<br />  }<br /> <br />  public void test3()<br />  {<br />    Service service = new Service();<br />    Mockit.redefineMethods(Workflow.class, WorkflowMock.class);<br />   <br />    try<br />    {<br />      service.doBusinessWork();<br />    }<br />    catch(Exception e)<br />    {<br />      assertNotNull("Exception thrown",e);<br />    }<br />  }<br />}<br /></code>
