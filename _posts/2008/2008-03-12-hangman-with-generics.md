---
title: Hangman with Generics

category: blogger
# Pulled from Blogger. Last updated there on: Wed Mar 12 13:15:00 GMT 2008
---
I'm implementing a hangman game, which uses a HashMap to store a character and result of the character guess.<br /><br /><pre class="prettyprint" id="java"><br />public abstract class Guess{}<br /><br />public class CorrectGuess extends Guess{}<br /><br />public class FailedGuess extends Guess{}<br /><br />public class Hangman {<br />    private Map&lt;Character,Guess> state = new HashMap&lt;Character,Guess>();<br />}<br /></pre><br /><br />I want to be able to get a list of the various correct and failed guesses, so the details can be displayed.<br /><br />The nasty solution i've currently got is to use "instanceof", but i feel this misses the point of using generics.<br /><br /><pre class="prettyprint" id="java"><br />// the calling code looks something like<br />void display()<br />{<br />    hangmanDisplay.display(getFailedGuesses());<br />    consoleDisplay.display(getCorrectGuesses());<br />}<br /><br />public List&lt;CorrectGuess> getCorrectGuesses()<br /> {<br />  List&lt;CorrectGuess> list = new ArrayList&lt;CorrectGuess>(secret.length());<br />  for(Iterator iterator = state.values().iterator();iterator.hasNext();)<br />  {<br />   Guess guess = (Guess) iterator.next();<br />   if(guess instanceof CorrectGuess)<br />    list.add((CorrectGuess)guess);<br />  }<br />  return list;<br /> }<br /><br />public List&lt;FailedGuess> getFailedGuesses()<br />{...}<br /></pre><br /><br />I want to be able to use the generic parameter type to control what is added to the list.<br /><br /><pre class="prettyprint" id="java"><br />// the calling code would then look something like<br />void display()<br />{<br />    hangmanDisplay.display(getGuesses(new ArrayList&lt;FailedGuess>()));<br />    consoleDisplay.display(getGuesses(new ArrayList&lt;CorrectGuess>());<br />}<br /><br />/**<br /> * get all values of generic parameter type T in the HashSet and add to the list.<br /> */<br />public void getGuesses(List&lt;? super Guess> list)<br />{<br />    state,values().iterator();<br />    // how can i compare the type thats in the iterator.next() with the type defined by T in the input parameter?<br />}<br /></pre>
