{"componentChunkName":"component---src-templates-blog-post-js","path":"/2021-05-23-enable-strava-plugin/","result":{"data":{"site":{"siteMetadata":{"url":"https://emeraldjava.github.io","title":"emeraldjava","labels":[{"tag":"run","tech":"Run","name":"FaRunning","size":20,"color":"red"},{"tag":"cycle","tech":"Cycle","name":"FaBicycle","size":20,"color":"blue"},{"tag":"nodejs","tech":"Node.js","name":"DiNodejsSmall","size":20,"color":"lightgreen"},{"tag":"git","tech":"Git","name":"DiGitMerge","size":20,"color":"white"},{"tag":"javascript","tech":"JavaScript","name":"DiJsBadge","size":20,"color":"yellow"},{"tag":"css","tech":"CSS","name":"DiCss3Full","size":20,"color":"teal"},{"tag":"beer","tech":"Beer","name":"FaBeer","size":20,"color":"deepskyblue"},{"tag":"ruby","tech":"Ruby","name":"DiRuby","size":20,"color":"crimson"},{"tag":"java","tech":"Java","name":"FaJava","size":20,"color":"wheat"},{"tag":"angular","tech":"Angular","name":"DiAngularSimple","size":20,"color":"red"},{"tag":"html","tech":"HTML","name":"FaHtml5","size":20,"color":"darkorange"},{"tag":"php","tech":"php","name":"DiPhp","size":20,"color":"violet"},{"tag":"mongodb","tech":"MongoDB","name":"DiMongodb","size":20,"color":"green"},{"tag":"vscode","tech":"VS Code","name":"DiVisualstudio","size":20,"color":"deepskyblue"}]}},"markdownRemark":{"id":"6fa2b1b2-734a-58c9-abba-b51ad7f72a09","html":"<p>Enabling strava plugin again</p>\n<p><a href=\"https://swas.io/blog/using-multiple-queries-on-gatsbyjs-createpages-node-api/\">https://swas.io/blog/using-multiple-queries-on-gatsbyjs-createpages-node-api/</a></p>\n<p>running two gatsby create page functions in gatby-node.js</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/57748844/how-do-i-use-multiple-createpage-routes-in-gatsby-node-js\">https://stackoverflow.com/questions/57748844/how-do-i-use-multiple-createpage-routes-in-gatsby-node-js</a></li>\n<li><a href=\"https://stackoverflow.com/questions/64536170/how-to-create-multiple-page-types-dynamically-in-gatsby-node-js\">https://stackoverflow.com/questions/64536170/how-to-create-multiple-page-types-dynamically-in-gatsby-node-js</a></li>\n<li><a href=\"https://swas.io/blog/using-multiple-queries-on-gatsbyjs-createpages-node-api/\">https://swas.io/blog/using-multiple-queries-on-gatsbyjs-createpages-node-api/</a></li>\n<li><a href=\"https://gist.github.com/tanaypratap/c676022402d4fadbe1dad4c1b1a78c21\">https://gist.github.com/tanaypratap/c676022402d4fadbe1dad4c1b1a78c21</a></li>\n</ul>\n<p>My .env file looks like</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">STRAVA_CLIENT_ID=xxxx\nSTRAVA_CLIENT_SECRET=78..78\nSTRAVA_TOKEN={\"access_token\":\"8a..b2\",\"refresh_token\":\"ij..gy\",\"expires_at\":1581439030,\"expires_in\":21600}</code></pre></div>\n<h2>token</h2>\n<p><a href=\"https://yizeng.me/2017/01/11/get-a-strava-api-access-token-with-write-permission/\">https://yizeng.me/2017/01/11/get-a-strava-api-access-token-with-write-permission/</a></p>\n<p>generate token</p>\n<p>STRAVA_CLIENT_ID=4945\nSTRAVA_CLIENT_SECRET=cd72dfedc320fd098fc2d5cf9af51c245fd9b042\nSTRAVA_TOKEN={“access_token”:“503671acabaf6e27d8aa5ed49dbb22cd3f31748b”,“refresh_token”:“2706dca4b78c29353ed03267c0df2f41759a0c68”,“expires_at”:1581439030,“expires_in”:21600}</p>\n<p>1 -</p>\n<p><a href=\"http://www.strava.com/oauth/authorize?client_id=4945&#x26;response_type=code&#x26;redirect_uri=http://localhost/exchange_token&#x26;approval_prompt=force&#x26;scope=read_all,profile:read_all,activity:read_all\">http://www.strava.com/oauth/authorize?client_id=4945&#x26;response_type=code&#x26;redirect_uri=http://localhost/exchange_token&#x26;approval_prompt=force&#x26;scope=read_all,profile:read_all,activity:read_all</a></p>\n<p>returns</p>\n<p><a href=\"http://localhost/exchange_token?state=&#x26;code=3135adf3d092a54b2c9952978757adc4dee11c07&#x26;scope=read,activity:read_all,profile:read_all,read_all\">http://localhost/exchange_token?state=&#x26;code=3135adf3d092a54b2c9952978757adc4dee11c07&#x26;scope=read,activity:read_all,profile:read_all,read_all</a></p>\n<p>code=3135adf3d092a54b2c9952978757adc4dee11c07</p>\n<p>2 Run CURL to</p>\n<p>curl -X POST <a href=\"https://www.strava.com/oauth/token\">https://www.strava.com/oauth/token</a> -F client_id=4945 -F client_secret=cd72dfedc320fd098fc2d5cf9af51c245fd9b042 -F code=3135adf3d092a54b2c9952978757adc4dee11c07 -F grant_type=authorization_code</p>\n<p>{“token_type”:“Bearer”,\n“expires_at”:1621798403,“expires_in”:21600,\n“refresh_token”:“f84937f098dc675364aed4b65acb9e66bf30924c”,\n“access_token”:“b898fbd9ea915f5a3b34cc8876dc0c9f3bca049b”,</p>\n<p>“athlete”:{“id”:7035778,“username”:“emeraldjava”,“resource_state”:2,“firstname”:“emerald”,“lastname”:“java”,“bio”:\"\",“city”:“Dublin”,“state”:“Dublin”,“country”:“Ireland”,“sex”:“M”,“premium”:true,“summit”:true,“created_at”:“2014-11-09T16:06:10Z”,“updated_at”:“2021-05-23T13:03:13Z”,“badge_type_id”:1,“weight”:73.4,“profile_medium”:”<a href=\"https://dgalywyr863hv.cloudfront.net/pictures/athletes/7035778/2122161/2/medium.jpg%22,%22profile%22:%22https://dgalywyr863hv.cloudfront.net/pictures/athletes/7035778/2122161/2/large.jpg%22,%22friend%22:null,%22follower%22:null%7D%7D%25\">https://dgalywyr863hv.cloudfront.net/pictures/athletes/7035778/2122161/2/medium.jpg”,“profile”:“https://dgalywyr863hv.cloudfront.net/pictures/athletes/7035778/2122161/2/large.jpg”,“friend”:null,“follower”:null}}%</a></p>","frontmatter":{"title":"openapi typescript","date":"May 01, 2021","tags":["supabase"]}}},"pageContext":{"slug":"/2021-05-23-enable-strava-plugin/"}},"staticQueryHashes":["1507474683","63159454","81262063"]}